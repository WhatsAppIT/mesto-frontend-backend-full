{"ast":null,"code":"import _objectSpread from\"C:/Users/79282/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"C:/Users/79282/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/79282/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Auth=/*#__PURE__*/function(){function Auth(options){_classCallCheck(this,Auth);this._url=options.url;this._headers=options.headers;}_createClass(Auth,[{key:\"authorization\",value:function authorization(username,password){return fetch(\"\".concat(this._url,\"/signin\"),{method:'POST',headers:this._headers,body:JSON.stringify({email:username,password:password})}).then(this._handleResponseAuth);}},{key:\"registration\",value:function registration(email,password){return fetch(\"\".concat(this._url,\"/signup\"),{method:'POST',headers:this._headers,body:JSON.stringify({email:email,password:password})}).then(this._handleResponseAuth);}},{key:\"getInformation\",value:function getInformation(token){return fetch(\"\".concat(this._url,\"/users/me\"),{metod:'GET',headers:_objectSpread(_objectSpread({},this._headers),{},{Authorization:\"Bearer \".concat(token)})}).then(this._handleResponseAuth);}},{key:\"_handleResponseAuth\",value:function _handleResponseAuth(res){if(res.ok){return res.json();}else{return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}}}]);return Auth;}();var auth=new Auth({url:'https://api.krivolapov.nomoredomainsmonster.ru',headers:{Accept:'application/json','Content-type':'application/json'}});export{auth};","map":{"version":3,"names":["Auth","options","_classCallCheck","_url","url","_headers","headers","_createClass","key","value","authorization","username","password","fetch","concat","method","body","JSON","stringify","email","then","_handleResponseAuth","registration","getInformation","token","metod","_objectSpread","Authorization","res","ok","json","Promise","reject","status","auth","Accept"],"sources":["C:/Users/79282/react-mesto-api-full-gha/frontend/src/utils/auth.js"],"sourcesContent":["class Auth {\r\n    constructor(options) {\r\n        this._url = options.url;\r\n        this._headers = options.headers;\r\n    }\r\n\r\n    authorization(username, password) {\r\n        return fetch(`${this._url}/signin`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                email: username,\r\n                password: password,\r\n            }),\r\n        }).then(this._handleResponseAuth);\r\n    }\r\n\r\n    registration(email, password) {\r\n        return fetch(`${this._url}/signup`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                email: email,\r\n                password: password,\r\n            }),\r\n        }).then(this._handleResponseAuth);\r\n    }\r\n\r\n    getInformation(token) {\r\n        return fetch(`${this._url}/users/me`, {\r\n            metod: 'GET',\r\n            headers: {\r\n                ...this._headers,\r\n                Authorization: `Bearer ${token}`,\r\n            },\r\n        }).then(this._handleResponseAuth);\r\n    }\r\n\r\n    _handleResponseAuth(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        } else {\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        }\r\n    }\r\n}\r\n\r\nconst auth = new Auth({\r\n    url: 'https://api.krivolapov.nomoredomainsmonster.ru',\r\n    headers: {\r\n        Accept: 'application/json',\r\n        'Content-type': 'application/json',\r\n    },\r\n});\r\n\r\nexport { auth };\r\n"],"mappings":"kZAAM,CAAAA,IAAI,yBACN,SAAAA,KAAYC,OAAO,CAAE,CAAAC,eAAA,MAAAF,IAAA,EACjB,IAAI,CAACG,IAAI,CAAGF,OAAO,CAACG,GAAG,CACvB,IAAI,CAACC,QAAQ,CAAGJ,OAAO,CAACK,OAAO,CACnC,CAACC,YAAA,CAAAP,IAAA,GAAAQ,GAAA,iBAAAC,KAAA,CAED,SAAAC,cAAcC,QAAQ,CAAEC,QAAQ,CAAE,CAC9B,MAAO,CAAAC,KAAK,IAAAC,MAAA,CAAI,IAAI,CAACX,IAAI,YAAW,CAChCY,MAAM,CAAE,MAAM,CACdT,OAAO,CAAE,IAAI,CAACD,QAAQ,CACtBW,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACjBC,KAAK,CAAER,QAAQ,CACfC,QAAQ,CAAEA,QACd,CAAC,CACL,CAAC,CAAC,CAACQ,IAAI,CAAC,IAAI,CAACC,mBAAmB,CAAC,CACrC,CAAC,GAAAb,GAAA,gBAAAC,KAAA,CAED,SAAAa,aAAaH,KAAK,CAAEP,QAAQ,CAAE,CAC1B,MAAO,CAAAC,KAAK,IAAAC,MAAA,CAAI,IAAI,CAACX,IAAI,YAAW,CAChCY,MAAM,CAAE,MAAM,CACdT,OAAO,CAAE,IAAI,CAACD,QAAQ,CACtBW,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACjBC,KAAK,CAAEA,KAAK,CACZP,QAAQ,CAAEA,QACd,CAAC,CACL,CAAC,CAAC,CAACQ,IAAI,CAAC,IAAI,CAACC,mBAAmB,CAAC,CACrC,CAAC,GAAAb,GAAA,kBAAAC,KAAA,CAED,SAAAc,eAAeC,KAAK,CAAE,CAClB,MAAO,CAAAX,KAAK,IAAAC,MAAA,CAAI,IAAI,CAACX,IAAI,cAAa,CAClCsB,KAAK,CAAE,KAAK,CACZnB,OAAO,CAAAoB,aAAA,CAAAA,aAAA,IACA,IAAI,CAACrB,QAAQ,MAChBsB,aAAa,WAAAb,MAAA,CAAYU,KAAK,CAAE,EAExC,CAAC,CAAC,CAACJ,IAAI,CAAC,IAAI,CAACC,mBAAmB,CAAC,CACrC,CAAC,GAAAb,GAAA,uBAAAC,KAAA,CAED,SAAAY,oBAAoBO,GAAG,CAAE,CACrB,GAAIA,GAAG,CAACC,EAAE,CAAE,CACR,MAAO,CAAAD,GAAG,CAACE,IAAI,CAAC,CAAC,CACrB,CAAC,IAAM,CACH,MAAO,CAAAC,OAAO,CAACC,MAAM,0CAAAlB,MAAA,CAAYc,GAAG,CAACK,MAAM,CAAE,CAAC,CAClD,CACJ,CAAC,WAAAjC,IAAA,KAGL,GAAM,CAAAkC,IAAI,CAAG,GAAI,CAAAlC,IAAI,CAAC,CAClBI,GAAG,CAAE,gDAAgD,CACrDE,OAAO,CAAE,CACL6B,MAAM,CAAE,kBAAkB,CAC1B,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAC,CAEF,OAASD,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}