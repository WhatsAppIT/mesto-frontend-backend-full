{"ast":null,"code":"class Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n  }\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      method: \"GET\",\n      headers: this._headers\n    }).then(this._handleResponse);\n  }\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      method: \"GET\",\n      headers: this._headers\n    }).then(this._handleResponse);\n  }\n  editProfile(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    }).then(this._handleResponse);\n  }\n  changeAvatar(url) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: url\n      })\n    }).then(this._handleResponse);\n  }\n  getAppInfo() {\n    return Promise.all([this.getUserInfo(), this.getInitialCards()]);\n  }\n  editCard(data) {\n    return fetch(`${this._url}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    }).then(this._handleResponse);\n  }\n  deleteCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(this._handleResponse);\n  }\n  like(cardId) {\n    return fetch(`${this._url}/cards/${cardId}/likes`, {\n      method: \"PUT\",\n      headers: this._headers\n    }).then(this._handleResponse);\n  }\n  removeLike(cardId) {\n    return fetch(`${this._url}/cards/${cardId}/likes`, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(this._handleResponse);\n  }\n  changeAvatar(url) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: url\n      })\n    }).then(this._handleResponse);\n  }\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  }\n  changeLikeCardStatus(cardId, isLiked) {\n    if (isLiked) {\n      return this.like(cardId);\n    } else {\n      return this.removeLike(cardId);\n    }\n  }\n}\nconst api = new Api({\n  url: \"https://mesto.nomoreparties.co/v1/cohort-68\",\n  headers: {\n    authorization: \"dc5ffe71-d4a2-4ae4-8d8f-113b04708a8c\",\n    \"Content-type\": \"application/json\"\n  }\n});\nexport { api };","map":{"version":3,"names":["Api","constructor","options","_url","url","_headers","headers","getUserInfo","fetch","method","then","_handleResponse","getInitialCards","editProfile","data","body","JSON","stringify","name","about","changeAvatar","avatar","getAppInfo","Promise","all","editCard","link","deleteCard","cardId","like","removeLike","res","ok","json","reject","status","changeLikeCardStatus","isLiked","api","authorization"],"sources":["C:/Users/79282/react-mesto-api-full-gha/frontend/src/utils/api.js"],"sourcesContent":["class Api {\r\n  constructor(options) {\r\n    this._url = options.url;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  editProfile(data) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  changeAvatar(url) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: url,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  getAppInfo() {\r\n    return Promise.all([this.getUserInfo(), this.getInitialCards()]);\r\n  }\r\n\r\n  editCard(data) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._url}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  like(cardId) {\r\n    return fetch(`${this._url}/cards/${cardId}/likes`, {\r\n      method: \"PUT\",\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  removeLike(cardId) {\r\n    return fetch(`${this._url}/cards/${cardId}/likes`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  changeAvatar(url) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: url,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  _handleResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    if (isLiked) {\r\n      return this.like(cardId);\r\n    } else {\r\n      return this.removeLike(cardId);\r\n    }\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  url: \"https://mesto.nomoreparties.co/v1/cohort-68\",\r\n  headers: {\r\n    authorization: \"dc5ffe71-d4a2-4ae4-8d8f-113b04708a8c\",\r\n    \"Content-type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport { api };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}